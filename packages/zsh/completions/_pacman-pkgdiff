#compdef pacman-pkgdiff

_packages() {
  local package_names=( $(
    pacman -Qqn
  ) )

  compadd "$@" $package_names
}

_arguments \
  '-h[display the help]' \
  '1:package:_packages'
