#!/bin/sh

# #IDEA: preview only displays tags which are not already specified
SELECTED_HOST=$(
  query-hosts-tags hosts "$@" \
    | fzf \
      --no-multi \
      --exit-0 \
      --select-1 \
      --height=10 \
      --layout=reverse \
      --preview="query-hosts-tags tags {}" \
      --preview-window=right:70%
)

[ -n "${SELECTED_HOST}" ] || exit

TERM=xterm-256color ssh "${SELECTED_HOST}"
