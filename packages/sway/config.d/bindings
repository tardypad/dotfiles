## general

# exit sway
bindsym $mod+Ctrl+q exit

# reload the configuration file
bindsym $mod+Alt+Shift+r reload

# lock the screen
bindsym $mod+Backspace exec swaylock

# focus first window with urgent flag
bindsym $mod+u [urgent="first"] focus

# do not disturb toggle
bindsym $mod+Escape exec do-not-disturb toggle \
                         && pkill -RTMIN+2 i3blocks

# toggle Pomodoro session
bindsym $mod+Shift+Escape exec pomodoro toggle \
                               && pkill -RTMIN+4 i3blocks

# select region and grab screenshot
bindsym $mod+g exec grab_region_screenshot


## notifications

bindsym $mod+Ctrl+x       exec makoctl dismiss
bindsym $mod+Ctrl+Shift+x exec makoctl dismiss --all


## launch apps

bindsym $mod+Return       exec exec_desktop_entry ~/.local/share/applications/terminal.desktop
bindsym $mod+Shift+Return exec exec_desktop_entry ~/.local/share/applications/qutebrowser_web_browser.desktop


## launchers

mode "launchers" {
    bindsym Space       mode "default", exec launcher launch_app
    bindsym Shift+Space mode "default", exec launcher launch_command
    bindsym Backspace   mode "default", exec launcher launch_system
    bindsym c           mode "default", exec launcher launch_clipboard
    bindsym h           mode "default", exec launcher launch_help
    bindsym j           mode "default", exec launcher launch_tmux_env "' Projects environment'" projects
    bindsym n           mode "default", exec launcher launch_note
    bindsym p           mode "default", exec launcher launch_password
    bindsym s           mode "default", exec launcher launch_tmux_env "' Servers environment'" servers

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Space mode "launchers"


## floating

floating_modifier $mod normal
bindsym $mod+Shift+f floating toggle
bindsym $mod+f focus mode_toggle


## scratchpad

bindsym $mod+Shift+d move scratchpad
bindsym $mod+d scratchpad show


## workspaces management

bindsym $mod+c exec create_workspace

# select
bindsym $mod+a workspace back_and_forth
bindsym $mod+n workspace next_on_output
bindsym $mod+$right workspace next_on_output
bindsym $mod+p workspace prev_on_output
bindsym $mod+$left workspace prev_on_output
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# split
bindsym $mod+v splith
bindsym $mod+s splitv

# layout mode
mode "layout" {
    bindsym 1 layout splith
    bindsym 2 layout splitv
    bindsym 3 layout tabbed

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+y mode "layout"


## windows management

bindsym $mod+Shift+c exec exec_desktop_entry ~/.local/share/applications/terminal.desktop
bindsym $mod+Shift+x kill
bindsym $mod+Shift+z fullscreen

# select
bindsym $mod+Shift+$left focus left
bindsym $mod+Shift+$down focus down
bindsym $mod+Shift+$up focus up
bindsym $mod+Shift+$right focus right

# move mode
mode "move" {
    # move focused window within workspace
    bindsym Shift+$left move left
    bindsym Shift+$down move down
    bindsym Shift+$up move up
    bindsym Shift+$right move right

    # move focused container to workspace and follow
    bindsym 1 move container to workspace $ws1, workspace $ws1
    bindsym 2 move container to workspace $ws2, workspace $ws2
    bindsym 3 move container to workspace $ws3, workspace $ws3
    bindsym 4 move container to workspace $ws4, workspace $ws4
    bindsym 5 move container to workspace $ws5, workspace $ws5
    bindsym 6 move container to workspace $ws6, workspace $ws6
    bindsym 7 move container to workspace $ws7, workspace $ws7
    bindsym 8 move container to workspace $ws8, workspace $ws8
    bindsym 9 move container to workspace $ws9, workspace $ws9
    bindsym 0 move container to workspace $ws10, workspace $ws10
    bindsym c exec move_window_new_workspace
    bindsym a move container to workspace back_and_forth, workspace back_and_forth
    bindsym n move container to workspace next_on_output, workspace next_on_output
    bindsym $right move container to workspace next_on_output, workspace next_on_output
    bindsym p move container to workspace prev_on_output, workspace prev_on_output
    bindsym $left move container to workspace prev_on_output, workspace prev_on_output

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+m mode "move"

# resize mode
mode "resize" {
    bindsym Shift+$left resize shrink width 10 px or 10 ppt
    bindsym Shift+$up resize grow height 10 px or 10 ppt
    bindsym Shift+$down resize shrink height 10 px or 10 ppt
    bindsym Shift+$right resize grow width 10 px or 10 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+s mode "resize"


## XF86 keys

# Volume keys
bindsym --locked XF86AudioRaiseVolume exec amixer -q set Master unmute 5%+ \
                                           && pkill -RTMIN+1 i3blocks
bindsym --locked XF86AudioLowerVolume exec amixer -q set Master unmute 5%- \
                                           && pkill -RTMIN+1 i3blocks
bindsym --locked XF86AudioMute        exec amixer -q set Master toggle \
                                           && pkill -RTMIN+1 i3blocks

# Microphone key
bindsym --locked XF86AudioMicMute exec amixer -q set Capture toggle

# Backlight keys
bindsym --locked XF86MonBrightnessUp   exec light -A 10
bindsym --locked XF86MonBrightnessDown exec light -U 10

# Media keys
bindsym --locked XF86AudioPlay exec mpc toggle \
                                    && pkill -RTMIN+3 i3blocks
bindsym --locked XF86AudioNext exec mpc next \
                                    && pkill -RTMIN+3 i3blocks
bindsym --locked XF86AudioPrev exec mpc prev \
                                    && pkill -RTMIN+3 i3blocks
