#! /usr/bin/env zsh

echo -n "${PATH}" \
  | xargs --delimiter=: -I{} \
    -- find -L {} \
       -maxdepth 1 -mindepth 1 \
       -type f -executable \
       -printf '%P\n' \
       2> /dev/null \
  | sort -u \
  | fzf --reverse \
        --no-multi \
        --margin 1,2,0,2 \
        --prompt 'run ' \
        --color info:{color/background/number} \
  | xargs -I{} \
    -- swaymsg --quiet exec {}
