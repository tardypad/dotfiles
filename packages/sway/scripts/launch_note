#! /usr/bin/env zsh

NOTES_FOLDER="$( xdg-user-dir NOTES )"

NOTE=$(
  ls "${NOTES_FOLDER}" \
  | fzf --reverse \
        --no-multi \
        --margin 1,2,0,2 \
        --prompt 'open note ' \
        --color info:8 \
)

[[ -n "${NOTE}" ]] || exit

swaymsg -t command \
  exec "termite \
          --title 'ï‰‰ Notes' \
          --exec 'tmux new-session -s note \"vim ${NOTES_FOLDER}/${NOTE}\" \; rename-session \"note #{s/$//:session_id}\"'"
