#! /usr/bin/env zsh

OPTION="$1"

FILE_PATH="${XDG_DATA_HOME:-$HOME/.local/share}/sway/do_not_disturb"

enable() {
  touch "${FILE_PATH}"
}

disable() {
  rm -f "${FILE_PATH}"
}

status() {
  if is_enabled; then
    echo 'enabled'
  else
    echo 'disabled'
  fi
}

is_enabled() {
  [[ -f "${FILE_PATH}" ]]
}


case "${OPTION}" in
  'enable')
      enable
      ;;
  'disable')
      disable
      ;;
  'status')
      status
      ;;
  'toggle')
      if is_enabled; then
        disable
      else
        enable
      fi
      ;;
  *) exit 1
esac
