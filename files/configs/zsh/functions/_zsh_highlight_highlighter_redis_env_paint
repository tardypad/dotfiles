[[ ! "${BUFFER}" =~ '^redis-env ' ]] && return

local keywords=(
  $( cat "${XDG_DATA_HOME:-$HOME/.local/share}/keywords/redis" )
)

local start_ix=1 ix cur_word

for ix in $( seq 1 ${#BUFFER} ); do
  if [[ $BUFFER[$ix] == ' ' ]]; then
    cur_word=$BUFFER[$start_ix,$ix-1]
    if (( $keywords[(Ie)${cur_word:l}] )); then
      _zsh_highlight_add_highlight $(( start_ix - 1 )) $ix redis_env
    fi
    start_ix=$(( ix + 1 ))
  fi
done
