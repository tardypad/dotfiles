#compdef pacman_pkgdiff

_packages() {
  local package_names=( $(
    pacman --query --native --quiet
  ) )

  compadd "$@" $package_names
}

_arguments \
  '(-h --help)'{-h,--help}'[display the help]' \
  '1:package:_packages'
