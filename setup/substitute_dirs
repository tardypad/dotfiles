#!/bin/sh

TMP_SCRIPT_FILE=$( mktemp )
trap 'rm "${TMP_SCRIPT_FILE}"' EXIT

DIRS_FILE="config/dirs"

{
  while read -r line; do
    alias=$( echo "${line}" | cut -f1 -d' ' )
    path=$( echo "${line}" | tr -s ' ' | cut -f2 -d' ' )
    path=$( eval "echo ${path}" )
    echo "s|{dir/${alias}}|${path}|g"
  done < "${DIRS_FILE}"
} > "${TMP_SCRIPT_FILE}"

sed -f "${TMP_SCRIPT_FILE}" -
